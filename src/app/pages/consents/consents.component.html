<app-content-header     
[title]="'Consents'" 
    [icon]="'event'"
    [hideBreadcrumb]="true"
    [hasBgImage]="true" 
    [class]="'pt-3'"></app-content-header>


 <mat-toolbar color="primary" fxLayout="row" fxLayoutAlign="space-between center">

  
    <div fxLayout="row" fxLayoutAlign="center center">
    <button mat-raised-button color="accent" (click)="exportAsXLSX()" class="compose" fxShow="false" fxShow.gt-xs>Download Excel</button>       
    </div>
</mat-toolbar> 

<div fxLayout="column" class="p-2">
    <div class="p-2"> 
        <div fxLayout="column" class="mat-elevation-z8">   
            <mat-form-field class="px-3 py-1">
                <input matInput (keyup)="applyFilter($event.target.value)" placeholder="Type to filter all columns">
            </mat-form-field> 
        </div>
        <mat-table #table [dataSource]="dataSource" matSort class="mat-elevation-z8">       
            <ng-container matColumnDef="serial_number">
                <mat-header-cell *matHeaderCellDef mat-sort-header>S No. </mat-header-cell>
                <mat-cell *matCellDef="let element"> {{element.serial_number}} </mat-cell>
            </ng-container>         
            <ng-container matColumnDef="fullname">
                <mat-header-cell *matHeaderCellDef mat-sort-header> Name </mat-header-cell>
                <mat-cell *matCellDef="let element"> {{element.fullname }} </mat-cell>
            </ng-container>  
            <ng-container matColumnDef="email">
                <mat-header-cell *matHeaderCellDef mat-sort-header>Email </mat-header-cell>
                <mat-cell class="increaseWidth" *matCellDef="let element"> {{element.email }} </mat-cell>
            </ng-container>  
            <ng-container matColumnDef="phone_number">
                <mat-header-cell *matHeaderCellDef mat-sort-header>Phone </mat-header-cell>
                <mat-cell *matCellDef="let element"> {{element.phone_number }} </mat-cell>
            </ng-container>
           <ng-container matColumnDef="created_at">
                <mat-header-cell *matHeaderCellDef mat-sort-header>Date </mat-header-cell>
                <mat-cell *matCellDef="let element"> {{element.created_at }} </mat-cell>
            </ng-container>                  
            <ng-container matColumnDef="share_info" >
                <mat-header-cell *matHeaderCellDef mat-sort-header >Share Info </mat-header-cell>
                <mat-cell *matCellDef="let element"> {{element.share_info }} </mat-cell>
            </ng-container>   

            <ng-container matColumnDef="loading">
                <mat-footer-cell *matFooterCellDef colspan="6">
                  Loading data...
                </mat-footer-cell>
              </ng-container>

           
            
            <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
            <mat-row *matRowDef="let row; columns: displayedColumns;"></mat-row>
            <mat-footer-row *matFooterRowDef="['loading']" [ngClass]="{'hide': dataSource!=null}"></mat-footer-row>
        </mat-table>
        <mat-paginator #paginator [pageSize]="10" [pageSizeOptions]="[15, 20, 30]" showFirstLastButtons></mat-paginator>        
    </div>
</div>
